<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hub de Jeux</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="image/icon.png">
    <meta name="description" content="Découvrez à propos de Hub Games, notre mission, notre équipe, comment nous contacter, et les contributeurs GitHub qui ont participé à notre projet. Rejoignez-nous pour des jeux passionnants !" />
</head>
<body>
    <div id="loader">
        <div id="loader-spinner"></div>
        <p>Chargement en cours...</p>
    </div>
    <header>
        <h1>Hub de Jeux</h1>
    </header>
    <nav>
        <a href="#">Accueil</a>
        <a href="#">Jeux</a>
        <a href="../hub_games/About">À propos</a>
        <a href="#">Contact</a>
    </nav>
    <div class="github-releases-container">
        <div id="github-releases" class="modem">
            <p id="load">Chargement de la dernière release depuis GitHub...</p>
        </div>
        <div id="txt" style="margin-left: 20px; width: 100%;">
            
        </div>
    </div>    
    <div class="game-list">
        <div class="game">
            <img src="image/Morpion.jpg" alt="Morpion">
            <h2>Morpion</h2>
            <p>Sur un plateau de jeu en 3x3 le premier à alligner trois de ses pions à gagné.</p>
            <a href="/hub_games/Morpion" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/Weather.jpg" alt="Weather">
            <h2>Weather</h2>
            <p>Savoir toute les informations météo de l'instant de n'importe quelle ville.</p>
            <a href="/hub_games/Weather" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/ClickerGame.jpg" alt="Clicker">
            <h2>Clicker Game</h2>
            <p>Pour passer le temps en cliquant sur un bouton multicolor, mais battre son score et s'entrener à OSU</p>
            <a href="Clicker" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/CPS.jpg" alt="CPS">
            <h2>Test de CPS</h2>
            <p>Pour savoir ton nombre de clique par seconde, mais aussi pour flex.</p>
            <a href="CPS/" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/Tetris.jpg" alt="Tetris">
            <h2>Tetris</h2>
            <p>Empiler des blocs les uns sur les autres pour faire une ligne et les détruires pour éviter de monter dans les étages.</p>
            <a href="Tetris/" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/FTN.jpg" alt="Find_the_number">
            <h2>Trouver le Nombre</h2>
            <p>Seriez-vous capable de trouver le bon nombre ? Prouvez le nous en y jouant !</p>
            <a href="Find_the_number/" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/Pong.jpg" alt="Pong">
            <h2>Pong</h2>
            <p>Deux barres, une boule, 5 manches. À vous de jouer !</p>
            <a href="Pong/" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/Flappy-Bird.jpg" alt="Flappy-Bird">
            <h2>Flappy-Bird</h2>
            <p>Fait sauter ton oiseau entre des tuyaux pour faire le meilleur score, mais attention si tu tappes ça fait mal au front !</p>
            <a href="Flappy-Bird/" class="play-button">Jouer</a>
        </div>
        <div class="game">
            <img src="image/JDLV.jpg" alt="JDLV">
            <h2>Jeu de la vie</h2>
            <p>3 simple règles et pourtant la vie se déroule devant vos yeux. Alors à vous de créer !</p>
            <a href="Jeu_de_la_vie/" class="play-button">Jouer</a>
        </div>
        <!-- Ajoutez plus de jeux ici -->
    </div>
    <div class="Copyright">
            <footer>Copyright &copy; 2023 By HubGames Studio All rights reserved.</footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const repoOwner = 'TheHubGames'; // Remplacez par le nom du propriétaire du dépôt
        const repoName = 'hub_games'; // Remplacez par le nom du dépôt

        const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/releases/latest`;

        fetch(apiUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error('Erreur lors de la récupération de la dernière release depuis GitHub');
            }
            return response.json();
        })
        .then(data => {
            const releasesDiv = document.getElementById('github-releases');
            const md = window.markdownit();
            document.getElementById('load').style.display = 'none';

            const releaseContainer = document.createElement('div');
            releaseContainer.classList.add('release-container');

            const firstFewLines = data.body.split('\n').slice(0, 5).join('\n'); // Récupère les 5 premières lignes
            const releaseHTML = `<div>
                <h3>${data.name}</h3>
                <p>${md.render(firstFewLines)}</p>
                <a href="MAJ/Dernière_maj" target="_blank">Lire la suite</a>
            </div>`;
            releaseContainer.innerHTML = releaseHTML;

            releasesDiv.appendChild(releaseContainer);
        })
        .catch(error => {
            const releasesDiv = document.getElementById('github-releases');
            releasesDiv.innerHTML = '<p>Erreur lors de la récupération de la dernière release depuis GitHub</p>';
            console.error('Erreur lors de la récupération de la dernière release depuis GitHub', error);
        });
    });
    window.addEventListener("load", function() {
    // La page est entièrement chargée, masquez l'écran de chargement.
    document.getElementById("loader").style.display = "none";
    document.getElementById("content").style.display = "block"; // Affiche le contenu principal
    });
    </script>

</body>
</html>
